record(stringout, "SR-DMS4AP{LOCALBUMP}DEV:Sel-SP"){
    field(DESC, "selected insertion device for local bump")
    field(VAL, "NULL")
}
# nearby 6 BPMs
record(waveform, "SR-DMS4AP{LOCALBUMP:BPM}Pos-I"){
    field(DESC, "s location surround selected ID")
    field(FTVL, "DOUBLE")
    field(NELM, "6")
}
record(waveform, "SR-DMS4AP{LOCALBUMP:BPM}ORB:X0-I"){
    field(DESC, "X0 orbit surround selected ID")
    field(FTVL, "DOUBLE")
    field(NELM, "6")
}
record(waveform, "SR-DMS4AP{LOCALBUMP:BPM}ORB:Y0-I"){
    field(DESC, "Y0 orbit surround selected ID")
    field(FTVL, "DOUBLE")
    field(NELM, "6")
}
record(waveform, "SR-DMS4AP{LOCALBUMP:BPM}ORB:X-I"){
    field(DESC, "X orbit surround selected ID")
    field(FTVL, "DOUBLE")
    field(NELM, "6")
}
record(waveform, "SR-DMS4AP{LOCALBUMP:BPM}ORB:Y-I"){
    field(DESC, "Y orbit surround selected ID")
    field(FTVL, "DOUBLE")
    field(NELM, "6")
}
# nearby 4 correctors, for both X & Y
record(waveform, "SR-DMS4AP{LOCALBUMP:COR}Pos-I"){
    field(DESC, "cors location surround selected ID")
    field(FTVL, "DOUBLE")
    field(NELM, "4")
}
record(waveform, "SR-DMS4AP{LOCALBUMP:HCOR}PS-SP"){
    field(DESC, "Current surround selected ID")
    field(FTVL, "DOUBLE")
    field(NELM, "4")
}
record(waveform, "SR-DMS4AP{LOCALBUMP:HCOR}PS:Delta-SP"){
    field(DESC, "changes to be made")
    field(FTVL, "DOUBLE")
    field(NELM, "4")
}
record(waveform, "SR-DMS4AP{LOCALBUMP:VCOR}PS-SP"){
    field(DESC, "Current surround selected ID")
    field(FTVL, "DOUBLE")
    field(NELM, "4")
}
record(waveform, "SR-DMS4AP{LOCALBUMP:VCOR}PS:Delta-SP"){
    field(DESC, "changes to be made")
    field(FTVL, "DOUBLE")
    field(NELM, "4")
}
# source point for insertion local bump
record(waveform, "SR-DMS4AP{LOCALBUMP}S-I"){
    field(DESC, "s for selected device")
    field(FTVL, "DOUBLE")
    field(PREC, "5")
    field(NELM, "3")
}
record(mbbo, "SR-DMS4AP{LOCALBUMP}PLANE-SP"){
    field(DESC, "PLANE for local bump source point")
    field(ZRST, "X Plane")
    field(ONST, "Y Plane")
    #field(TWST, "XY Plane")
}
record(ao, "SR-DMS4AP{LOCALBUMP}SHIFT-SP"){
    field(DESC, "shift at source point")
    field(VAL, 0.0)
    #field(DRVH, "0.5")
    #field(DRVL, "-0.5")
    field(EGU, "mm")
    field(PREC, "5")
}
record(ai, "SR-DMS4AP{LOCALBUMP}ANGLE-I"){
    field(DESC, "angle readback for selected plane")
    field(VAL, 0.0)
    field(EGU, "mrad")
    field(PREC, "5")
}
record(ai, "SR-DMS4AP{LOCALBUMP}POS-I"){
    field(DESC, "position readback for selected plane")
    field(VAL, 0.0)
    field(EGU, "mm")
    field(PREC, "5")
}
record(ai, "SR-DMS4AP{LOCALBUMP}ANGLE:BBA-I"){
    field(DESC, "angle readback for selected plane")
    field(VAL, 0.0)
    field(EGU, "mrad")
    field(PREC, "5")
}
record(ai, "SR-DMS4AP{LOCALBUMP}POS:BBA-I"){
    field(DESC, "position readback for selected plane")
    field(VAL, 0.0)
    field(EGU, "mm")
    field(PREC, "5")
}
record(ao, "SR-DMS4AP{LOCALBUMP}ANGLE-SP"){
    field(DESC, "angle at source point")
    field(VAL, 0.0)
    #field(DRVH, "0.25")
    #field(DRVL, "-0.25")
    field(EGU, "mrad")
    field(PREC, "5")
}
# command to apply
record(bo, "SR-DMS4AP{LOCALBUMP}Enbl-Cmd"){
    field(DESC, "Apply predicated local bump")
    field(VAL, 0)
    field(ZNAM, "Idle")
    field(ONAM, "Applying")
}
record(bo, "SR-DMS4AP{LOCALBUMP}Enbl:Undo-Cmd"){
    field(DESC, "Computing a new local bump")
    field(VAL, 0)
    field(ZNAM, "Undo")
    field(ONAM, "Undoing...")
}
record(waveform, "SR-DMS4AP{LOCALBUMP}TS-I"){
    field(DESC, "Last time of local bump.")
    field(FTVL, "CHAR")
    field(NELM, "256")
}
record(ao, "SR-DMS4AP{LOCALBUMP}SRC-SP"){
    field(VAL, 0)
    field(DRVL, "0.0")
    field(DRVH, "0.0")
    field(EGU, "m")
    field(PREC, 3)
}
